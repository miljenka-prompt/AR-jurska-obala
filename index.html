<!DOCTYPE html>
<html lang="hr">
  <head>
    <meta charset="UTF-8" />
    <title>Jurska obala â€“ AR demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.min.js"></script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
      
      <a-assets>
        <audio id="dino-sound" src="A_small_Compsognathu_#3-1763010680547.mp3" preload="auto"></audio>
        <img id="jurska" src="jurska_obala1.png" crossorigin="anonymous">
      </a-assets>

      <a-marker preset="hiro" id="marker">
        <a-plane 
          src="#jurska" 
          rotation="-90 0 0" 
          height="2" 
          width="3.5"
          position="0 0 0"
          animation="property: position; to: 0 0.05 0; dir: alternate; dur: 4000; easing: easeInOutSine; loop: true"
        ></a-plane>

        <a-entity id="sound-entity" sound="src: #dino-sound; loop: true; volume: 1.0; autoplay: false"></a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      var marker = document.querySelector('#marker');
      var soundEntity = document.querySelector('#sound-entity');
      var isPlaying = false;

      marker.addEventListener('markerFound', function() {
        if (!isPlaying && soundEntity.components.sound) {
          soundEntity.components.sound.playSound();
          isPlaying = true;
        }
      });

      marker.addEventListener('markerLost', function() {
        if (isPlaying && soundEntity.components.sound) {
          soundEntity.components.sound.pauseSound();
          isPlaying = false;
        }
      });
    </script>
  </body>
</html>




































